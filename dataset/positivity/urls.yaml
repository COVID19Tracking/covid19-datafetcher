AK:
# The rolling values are rolling 7-day avg (.rolling(7).mean())
- url: https://services1.arcgis.com/WzFsmainVTuD5KML/arcgis/rest/services/Testing_Positivity/FeatureServer/0/query
  params: {where: 1=1, outFields: '*', f: json}
  type: arcgis
  desc: Positivity
  constants:
    ROLLING_DAYS: 7
    UNITS: Tests
AR:
- url: https://services.arcgis.com/PwY9ZuZRDiI5nXUB/ArcGIS/rest/services/UPDATED_ADH_COVID19_COUNTY_METRICS/FeatureServer/0/query
  params: {where: 1=1, outStatistics: [{"statisticType": "sum", "onStatisticField": "pcr_pos_test"}, {"statisticType": "sum", "onStatisticField": "pcr_test"}, {"statisticType": "sum", "onStatisticField": "antigen_test"}, {"statisticType": "sum", "onStatisticField": "antigen_pos_test"}], f: json}
  type: arcgis
  desc: Data for pct-pos calc
  constants:
    # more special casing
    TIMESTAMP: $FETCH_TIMESTAMP
CO:
- url: https://services3.arcgis.com/66aUo8zsujfVXRIT/ArcGIS/rest/services/colorado_covid19_laboratory_positivity_data/FeatureServer/0/query
  params: {where: Desc_ like 'Daily%PCR%' and Metric = '3-Day Average Percent Positivity', outFields: '*, Value as Value3', orderByFields: 'Attr_Date asc', f: json}
  type: arcgis
  desc: Percent Positivity (3d)
  constants:
    ROLLING_DAYS: 3
- url: https://services3.arcgis.com/66aUo8zsujfVXRIT/ArcGIS/rest/services/colorado_covid19_laboratory_positivity_data/FeatureServer/0/query
  params: {where: Desc_ like 'Daily%PCR%' and Metric = '7-Day Average Percent Positivity', outFields: '*, Value as Value7', orderByFields: Attr_Date, f: json}
  type: arcgis
  desc: Percent Positivity (7d)
  constants:
    ROLLING_DAYS2: 7
- url: https://services3.arcgis.com/66aUo8zsujfVXRIT/ArcGIS/rest/services/colorado_covid19_laboratory_positivity_data/FeatureServer/0/query
  params: {where: Desc_ like 'Daily%PCR%' and Metric = 'Percent Positivity', outFields: '*', orderByFields: Attr_Date, f: json}
  type: arcgis
  desc: Percent Positivity
GU:
  #rolling(window=7).mean() for daily positives, daily tests, and then divide
- url: https://services2.arcgis.com/FPJlJZYRsD8OhCWA/arcgis/rest/services/COVID19_Dashboard_Counts_by_Date/FeatureServer/0/query
  # sma = simple moving average
  params: {where: 1=1, outFields: '*', orderByFields: 'date asc', f: json}
  type: arcgis
  desc: Percent positivity (7d)
  constants:
    ROLLING_DAYS: 7
KY:
- url: https://govstatus.egov.com/kycovid19
  params: null
  type: html:soup
  desc: State Page
  constants:
    TIMESTAMP: $FETCH_TIMESTAMP
VT:
  # might not be able to repro the values ourselves because we don't have
  # matching (by date) totals + positives
- url: https://services1.arcgis.com/BkFxaEFNwHqX3tAw/arcgis/rest/services/V_EPI_LabSpecimensDaily_PUBLIC/FeatureServer/0/query
  params: {where: 1=1, outFields: '*', orderByFields: Date_Received_by_PH asc, f: json}
  type: arcgis
  desc: Positivity
  constants:
    ROLLING_DAYS: 7
    UNITS: "Tests"
WI:
- url: https://bi.wisconsin.gov/t/DHS/views/PercentPositivebyTestPersonandaComparisonandTestCapacity/ByTestDashboard.csv
  params: {thousands: ',', parse_dates: ['Day of displaydateonly'], index_col: 'Day of displaydateonly'}
  type: pandas
  desc: Positivity by test
- url: https://bi.wisconsin.gov/t/DHS/views/PercentPositivebyTestPersonandaComparisonandTestCapacity/ByPersonDashboard.csv
  params: {thousands: ',', parse_dates: ['Day of Result Date'], index_col: 'Day of Result Date'}
  type: pandas
  desc: Positivity by person
